<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - FlyAndEarn.eu | Get in Touch with Our Team</title>
    <meta name="description" content="Contact FlyAndEarn.eu - Tropos Sp. z o.o. in Warsaw, Poland. We typically respond within 24 hours. Email us at contact@flyandearn.eu or use our contact form.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Navigation CSS -->
    <link rel="stylesheet" href="nav.css">
    <style>
        :root {
            --bg-primary: #0a0a0b;
            --bg-secondary: #111113;
            --bg-card: #18181b;
            --border: #27272a;
            --text-primary: #fafafa;
            --text-secondary: #a1a1aa;
            --text-muted: #a1a1aa;
            --accent-gold: #d4a853;
            --accent-gold-light: #f0d78c;
            --accent-teal: #2dd4bf;
            --accent-green: #22c55e;
            --accent-red: #ef4444;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; line-height: 1.6; }

        header { position: fixed; top: 0; left: 0; right: 0; z-index: 100; padding: 1rem 2rem; background: rgba(10, 10, 11, 0.95); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 0.75rem; text-decoration: none; }
        .logo span { font-size: 1.5rem; font-weight: 800; }
        .fly { color: var(--text-primary); }
        .amp { color: var(--accent-gold); }
        .earn { color: var(--accent-teal); }
        .header-nav { display: flex; align-items: center; gap: 1.5rem; }
        .header-nav a { color: var(--text-secondary); text-decoration: none; font-size: 0.9rem; transition: color 0.2s; }
        .header-nav a:hover { color: var(--text-primary); }
        .header-nav a.active { color: var(--accent-gold); }

        .lang-selector { display: flex; gap: 0.5rem; margin-left: 1rem; padding-left: 1rem; border-left: 1px solid var(--border); }
        .lang-btn { background: none; border: none; color: var(--text-muted); font-size: 0.8rem; cursor: pointer; padding: 0.25rem 0.5rem; border-radius: 4px; transition: all 0.2s; }
        .lang-btn:hover { color: var(--text-primary); }
        .lang-btn.active { color: var(--accent-gold); background: rgba(212, 168, 83, 0.1); }

        main { max-width: 1000px; margin: 0 auto; padding: 7rem 2rem 4rem; }

        .page-header { text-align: center; margin-bottom: 3rem; }
        .page-title { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; }
        .page-subtitle { color: var(--text-secondary); font-size: 1.1rem; max-width: 600px; margin: 0 auto; }

        .contact-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 3rem; }

        .contact-info { }
        .contact-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; }
        .contact-card-icon { font-size: 2rem; margin-bottom: 1rem; }
        .contact-card-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 0.5rem; }
        .contact-card-text { color: var(--text-secondary); font-size: 0.95rem; white-space: pre-line; }
        .contact-card-text a { color: var(--accent-gold); text-decoration: none; }
        .contact-card-text a:hover { text-decoration: underline; }

        .response-time { background: linear-gradient(135deg, rgba(212, 168, 83, 0.1), rgba(212, 168, 83, 0.05)); border: 1px solid rgba(212, 168, 83, 0.3); border-radius: 12px; padding: 1rem 1.5rem; display: flex; align-items: center; gap: 0.75rem; }
        .response-time-icon { font-size: 1.5rem; }
        .response-time-text { font-size: 0.9rem; color: var(--text-secondary); }
        .response-time-text strong { color: var(--accent-gold); }

        .social-proof { background: linear-gradient(135deg, rgba(45, 212, 191, 0.1), rgba(45, 212, 191, 0.05)); border: 1px solid rgba(45, 212, 191, 0.3); border-radius: 12px; padding: 1rem 1.5rem; display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.5rem; }
        .social-proof-icon { font-size: 1.5rem; }
        .social-proof-text { font-size: 0.9rem; color: var(--text-secondary); font-weight: 500; }

        .map-container { margin-top: 1.5rem; }
        .map-container h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; color: var(--text-primary); }
        .map-embed { border-radius: 12px; overflow: hidden; }

        .contact-form-wrapper { background: var(--bg-card); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; }
        .form-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem; }

        .form-group { margin-bottom: 1.25rem; }
        .form-label { display: block; font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem; }
        .form-label .required { color: var(--accent-red); }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 0.875rem 1rem; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 8px; color: var(--text-primary); font-size: 1rem; font-family: inherit; transition: border-color 0.2s, box-shadow 0.2s; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: var(--accent-gold); box-shadow: 0 0 0 3px rgba(212, 168, 83, 0.15); }
        .form-input.error, .form-select.error, .form-textarea.error { border-color: var(--accent-red); }
        .form-error { font-size: 0.8rem; color: var(--accent-red); margin-top: 0.375rem; display: none; }
        .form-textarea { resize: vertical; min-height: 120px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.875rem 1.5rem; border-radius: 8px; font-weight: 500; cursor: pointer; transition: all 0.2s; border: none; font-size: 1rem; text-decoration: none; font-family: inherit; width: 100%; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light)); color: #000; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 20px rgba(212, 168, 83, 0.3); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }

        .success-message { display: none; text-align: center; padding: 2rem; }
        .success-icon { font-size: 4rem; margin-bottom: 1rem; }
        .success-title { font-size: 1.5rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--accent-green); }
        .success-text { color: var(--text-secondary); }

        footer { text-align: center; padding: 2rem; color: var(--text-muted); font-size: 0.875rem; border-top: 1px solid var(--border); }
        footer a { color: var(--accent-gold); text-decoration: underline; }
        footer a:hover { text-decoration: none; }

        @media (max-width: 768px) {
            main { padding: 6rem 1rem 2rem; }
            .page-title { font-size: 2rem; }
            .contact-grid { grid-template-columns: 1fr; gap: 2rem; }
            .form-row { grid-template-columns: 1fr; }
            .header-nav { display: none; }
            .lang-selector { margin-left: 0; padding-left: 0; border-left: none; }
        }

        /* Inline cross-links styling */
        .cross-link {
            color: var(--accent-gold);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s ease, color 0.2s ease;
            padding: 0 0.125rem;
        }

        .cross-link:hover,
        .cross-link:focus {
            color: var(--accent-gold-light);
            border-bottom-color: var(--accent-gold);
        }

        .cross-link:focus {
            outline: 2px solid var(--accent-gold);
            outline-offset: 2px;
            border-radius: 3px;
        }

        /* Back Button */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: rgba(26, 26, 27, 0.95);
            border: 1px solid #d4a853;
            border-radius: 8px;
            color: #fff;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            backdrop-filter: blur(10px);
        }

        .back-button:hover {
            background: rgba(212, 168, 83, 0.1);
            border-color: #f0d78c;
            transform: translateX(-2px);
        }

        .back-button:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(212, 168, 83, 0.5);
        }

        .back-button svg {
            width: 18px;
            height: 18px;
        }

        @media (max-width: 768px) {
            .back-button {
                top: 15px;
                left: 15px;
                padding: 0.6rem 0.8rem;
                font-size: 0.85rem;
            }
            
            .back-button span {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Back Button -->
    <button class="back-button" onclick="history.back()" aria-label="Go back to previous page">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m15 18-6-6 6-6"/>
        </svg>
        <span data-i18n="btn.back">Back</span>
    </button>

    <!-- Site Header Navigation -->
    <header class="site-header" id="site-header" role="banner">
        <div class="header-container">
            <a href="/" class="site-logo" aria-label="FlyAndEarn Home">
                <span class="logo-text"><span class="fly">Fly</span><span class="amp">&</span><span class="earn">Earn</span></span>
            </a>

            <nav class="main-nav" aria-label="Main navigation">
                <ul class="main-nav-list" role="menubar">
                    <li class="nav-item" role="none">
                        <a href="/" class="nav-link" role="menuitem">Home</a>
                    </li>
                    <li class="nav-item has-dropdown" role="none">
                        <a href="/#requests" class="nav-link" role="menuitem" aria-haspopup="true" aria-expanded="false">
                            Browse <span class="dropdown-arrow">‚ñº</span>
                        </a>
                        <div class="nav-dropdown">
                            <ul class="nav-dropdown-menu" role="menu">
                                <li class="nav-dropdown-item" role="none">
                                    <a href="/#requests" class="nav-dropdown-link" role="menuitem">Browse Requests</a>
                                </li>
                                <li class="nav-dropdown-item" role="none">
                                    <a href="/dashboard#travelers" class="nav-dropdown-link" role="menuitem">Find Travelers</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item" role="none">
                        <a href="/pricing" class="nav-link" role="menuitem">Pricing</a>
                    </li>
                    <li class="nav-item active has-dropdown" role="none">
                        <a href="#" class="nav-link active" role="menuitem" aria-haspopup="true" aria-expanded="false">
                            Help <span class="dropdown-arrow">‚ñº</span>
                        </a>
                        <div class="nav-dropdown">
                            <ul class="nav-dropdown-menu" role="menu">
                                <li class="nav-dropdown-item" role="none">
                                    <a href="/faq" class="nav-dropdown-link" role="menuitem">FAQ</a>
                                </li>
                                <li class="nav-dropdown-item" role="none">
                                    <a href="/contact" class="nav-dropdown-link active" role="menuitem">Contact</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>

            <div class="nav-cta">
                <!-- Language Selector -->
                <div id="locale-selector-nav"></div>
                <a href="/dashboard" class="btn btn-primary">Dashboard</a>
            </div>

            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Open menu" aria-expanded="false" aria-controls="mobileNav">
                <span class="hamburger-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </button>
        </div>
    </header>

    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay" aria-hidden="true"></div>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav" id="mobileNav" aria-label="Mobile navigation" aria-hidden="true">
        <div class="mobile-nav-header">
            <a href="/" class="site-logo" aria-label="FlyAndEarn Home">
                <span class="logo-text"><span class="fly">Fly</span><span class="amp">&</span><span class="earn">Earn</span></span>
            </a>
            <button class="mobile-nav-close" aria-label="Close menu">√ó</button>
        </div>
        <ul class="mobile-nav-links">
            <li><a href="/" class="mobile-nav-link"><span class="mobile-nav-link-icon">üè†</span> Home</a></li>
            <li><a href="/#requests" class="mobile-nav-link"><span class="mobile-nav-link-icon">üîç</span> Browse Requests</a></li>
            <li><a href="/pricing" class="mobile-nav-link"><span class="mobile-nav-link-icon">üí≥</span> Pricing</a></li>
            <li class="mobile-nav-divider" role="separator"></li>
            <li><a href="/faq" class="mobile-nav-link"><span class="mobile-nav-link-icon">‚ùì</span> FAQ</a></li>
            <li><a href="/contact" class="mobile-nav-link active"><span class="mobile-nav-link-icon">üìß</span> Contact</a></li>
        </ul>
        <div class="mobile-nav-cta">
            <a href="/dashboard" class="btn btn-primary">Dashboard</a>
        </div>
    </nav>

    <main id="main-content">
        <!-- Breadcrumbs -->
        <div id="breadcrumbs"></div>
        
        <div class="page-header">
            <h1 class="page-title" data-i18n="contact.title">Contact Us</h1>
            <p class="page-subtitle" data-i18n="contact.subtitle">Have questions or need help? We're here for you. Check our <a href="/faq" class="cross-link">FAQ section</a> for quick answers or fill out the form below and we'll get back to you as soon as possible.</p>
        </div>

        <div class="contact-grid">
            <div class="contact-info">
                <div class="contact-card">
                    <div class="contact-card-icon">üìß</div>
                    <div class="contact-card-title" data-i18n="contact.email">Email</div>
                    <div class="contact-card-text">
                        <a href="mailto:contact@flyandearn.eu">contact@flyandearn.eu</a>
                    </div>
                </div>

                <div class="contact-card">
                    <div class="contact-card-icon">üí¨</div>
                    <div class="contact-card-title" data-i18n="contact.liveChat">Live Chat</div>
                    <div class="contact-card-text" data-i18n="contact.chatHours">Available Monday - Friday
9:00 AM - 6:00 PM CET</div>
                </div>

                <div class="contact-card">
                    <div class="contact-card-icon">üìç</div>
                    <div class="contact-card-title" data-i18n="contact.location">Location</div>
                    <div class="contact-card-text">
                        Tropos Sp. z o.o.<br>
                        Warsaw, Poland
                    </div>
                </div>

                <div class="response-time">
                    <div class="response-time-icon">‚ö°</div>
                    <div class="response-time-text">
                        <span data-i18n="contact.responseTime">We typically respond within 24 hours</span>
                    </div>
                </div>

                <div class="contact-card">
                    <div class="contact-card-icon">‚ùì</div>
                    <div class="contact-card-title">FAQ</div>
                    <div class="contact-card-text">
                        Before contacting us, check our <a href="/faq">FAQ section</a> for quick answers to common questions.
                    </div>
                </div>

                <div class="social-proof">
                    <div class="social-proof-icon">üåç</div>
                    <div class="social-proof-text">
                        Join 50+ early adopters across Europe
                    </div>
                </div>

                <div class="map-container">
                    <h3>Find Us</h3>
                    <div class="map-embed">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2443.4567893521123!2d21.0119!3d52.2297!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTLCsDEzJzQ3LjAiTiAyMcKwMDAnNDMuMCJF!5e0!3m2!1sen!2spl!4v1642777777777!5m2!1sen!2spl"
                            width="100%" 
                            height="200" 
                            style="border: 1px solid var(--border); border-radius: 12px;"
                            allowfullscreen="" 
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"
                            title="FlyAndEarn Office Location in Warsaw, Poland">
                        </iframe>
                    </div>
                </div>
            </div>

            <div class="contact-form-wrapper">
                <h2 class="form-title" data-i18n="contact.sendMessage">Send us a message</h2>

                <form id="contactForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="name"><span data-i18n="contact.fullName">Full Name</span> <span class="required">*</span></label>
                            <input type="text" class="form-input" id="name" name="name" required>
                            <div class="form-error" id="nameError" data-i18n="contact.errorName">Please enter your name</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="email"><span data-i18n="contact.email">Email</span> <span class="required">*</span></label>
                            <input type="email" class="form-input" id="email" name="email" required>
                            <div class="form-error" id="emailError" data-i18n="contact.errorEmail">Please enter a valid email</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="subject"><span data-i18n="contact.subject">Subject</span> <span class="required">*</span></label>
                        <select class="form-select" id="subject" name="subject" required>
                            <option value="" data-i18n="contact.selectTopic">Select a topic</option>
                            <option value="general" data-i18n="contact.generalInquiry">General Inquiry</option>
                            <option value="account" data-i18n="contact.accountIssues">Account Issues</option>
                            <option value="payment" data-i18n="contact.paymentBilling">Payment & Billing</option>
                            <option value="order" data-i18n="contact.orderProblem">Order Problem</option>
                            <option value="dispute" data-i18n="contact.disputeResolution">Dispute Resolution</option>
                            <option value="technical" data-i18n="contact.technicalSupport">Technical Support</option>
                            <option value="partnership" data-i18n="contact.partnership">Partnership</option>
                            <option value="other" data-i18n="contact.other">Other</option>
                        </select>
                        <div class="form-error" id="subjectError" data-i18n="contact.errorSubject">Please select a subject</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="contact.orderIdOptional">Order/Request ID (optional)</label>
                        <input type="text" class="form-input" id="orderId" name="orderId" placeholder="e.g., ORD-12345">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="message"><span data-i18n="contact.message">Message</span> <span class="required">*</span></label>
                        <textarea class="form-textarea" id="message" name="message" required data-i18n-placeholder="contact.howCanWeHelp" placeholder="How can we help you?"></textarea>
                        <div class="form-error" id="messageError" data-i18n="contact.errorMessage">Please enter your message</div>
                    </div>

                    <button type="submit" class="btn btn-primary" id="submitBtn" data-i18n="contact.send">
                        Send Message
                    </button>
                </form>

                <div class="success-message" id="successMessage">
                    <div class="success-icon">‚úÖ</div>
                    <div class="success-title" data-i18n="contact.success">Message Sent!</div>
                    <div class="success-text" data-i18n="contact.successMessage">
                        Thank you for contacting us. We'll get back to you within 24 hours.
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Related Pages Section -->
        <div id="related-pages"></div>
    </main>

    <footer>
        <p>&copy; 2024 FlyAndEarn. All rights reserved. | <a href="/privacy" data-i18n="footer.privacy">Privacy Policy</a> | <a href="/terms" data-i18n="footer.terms">Terms of Service</a> | <a href="/admin" aria-label="Admin login" style="opacity: 0.7;">Admin</a></p>
    </footer>

    <script src="i18n.js"></script>
    <script src="language-selector.js"></script>
    <link rel="stylesheet" href="smooth-navigation.css">
    <script src="smooth-navigation.js" defer></script>
    <script>
        // Language selector
        function setLang(lang) {
            T.setLanguage(lang);
            T.updatePage();
            updateLangButtons();
            updateSelectOptions();
        }

        function updateLangButtons() {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === T.currentLang);
            });
        }

        function updateSelectOptions() {
            document.querySelectorAll('select option[data-i18n]').forEach(opt => {
                const key = opt.getAttribute('data-i18n');
                opt.textContent = T.t(key);
            });
        }

        const form = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const successMessage = document.getElementById('successMessage');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            // Reset errors
            document.querySelectorAll('.form-error').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(el => el.classList.remove('error'));

            // Validate
            let hasError = false;
            const name = document.getElementById('name');
            const email = document.getElementById('email');
            const subject = document.getElementById('subject');
            const message = document.getElementById('message');

            if (!name.value.trim()) {
                name.classList.add('error');
                document.getElementById('nameError').style.display = 'block';
                hasError = true;
            }

            if (!email.value.trim() || !email.value.includes('@')) {
                email.classList.add('error');
                document.getElementById('emailError').style.display = 'block';
                hasError = true;
            }

            if (!subject.value) {
                subject.classList.add('error');
                document.getElementById('subjectError').style.display = 'block';
                hasError = true;
            }

            if (!message.value.trim()) {
                message.classList.add('error');
                document.getElementById('messageError').style.display = 'block';
                hasError = true;
            }

            if (hasError) return;

            // Submit
            submitBtn.disabled = true;
            submitBtn.textContent = T.t('contact.sending');

            try {
                const response = await fetch('/.netlify/functions/contact', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        name: name.value,
                        email: email.value,
                        subject: subject.value,
                        orderId: document.getElementById('orderId').value,
                        message: message.value,
                    }),
                });

                form.style.display = 'none';
                successMessage.style.display = 'block';
            } catch (error) {
                console.error('Error:', error);
                form.style.display = 'none';
                successMessage.style.display = 'block';
            }
        });

        // Initialize
        T.init();
        T.updatePage();
        updateLangButtons();
        updateSelectOptions();
    </script>

    <!-- Navigation JavaScript -->
    <script src="nav.js"></script>
</body>
</html>
